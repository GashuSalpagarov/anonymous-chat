(function(e){function t(t){for(var r,a,c=t[0],u=t[1],i=t[2],p=0,l=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&l.push(s[a][0]),s[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==s[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/anonymous-chat/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("7a23");const s={class:"view"},o=Object(r["d"])("header",null,"Welcome to Anonymous Chat",-1),a={class:"chat"},c={class:"content"},u={class:"timestamp"},i=Object(r["d"])("button",{type:"submit"},"Send",-1);function d(e,t,n,d,p,l){return Object(r["g"])(),Object(r["c"])("div",s,[o,Object(r["d"])("section",a,[(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["i"])(d.state.messages,e=>(Object(r["g"])(),Object(r["c"])("div",{key:e.key,class:Object(r["e"])(e.userId==d.state.userId?"message current-user":"message")},[Object(r["d"])("div",c,Object(r["j"])(e.content),1),Object(r["d"])("div",u,Object(r["j"])(d.getDateString(e.timestamp)),1)],2))),128))]),Object(r["d"])("footer",null,[Object(r["d"])("form",{onSubmit:t[1]||(t[1]=Object(r["m"])((...e)=>d.SendMessage&&d.SendMessage(...e),["prevent"]))},[Object(r["l"])(Object(r["d"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>d.state.input=e),placeholder:"Write a message..."},null,512),[[r["k"],d.state.input]]),i],32)])])}var p=n("ec26"),l=n("4f60");n("2979");const b={apiKey:"AIzaSyAqFm6bQynRa_r5nGrCV78YF__bOo2z7Mk",authDomain:"anonymous-chat-7ae53.firebaseapp.com",projectId:"anonymous-chat-7ae53",storageBucket:"anonymous-chat-7ae53.appspot.com",messagingSenderId:"826280856786",appId:"1:826280856786:web:8e8e1ace1ca8b4bbff710b"},f=l["a"].initializeApp(b);var m=f,g={setup(){const e=Object(r["h"])({userId:"",input:"",messages:[]}),t=e=>{const t=new Date(e);return t.toLocaleString()},n=()=>{const t=m.database().ref("messages");if(""===e.input||null===e.input)return;const n={userId:e.userId,content:e.input,timestamp:+new Date};t.push(n),e.input="",setTimeout(()=>window.scrollTo(0,document.body.scrollHeight),0)};return Object(r["f"])(()=>{sessionStorage.getItem("userId")?e.userId=sessionStorage.getItem("userId"):(e.userId=Object(p["a"])(),sessionStorage.setItem("userId",e.userId));const t=m.database().ref("messages");t.on("value",t=>{const n=t.val()||{};let r=[];Object.keys(n).forEach(e=>{r.push({id:e,userId:n[e].userId,content:n[e].content,timestamp:n[e].timestamp})}),e.messages=r})}),{state:e,getDateString:t,SendMessage:n}}},j=(n("6600"),n("6b0d")),O=n.n(j);const y=O()(g,[["render",d]]);var h=y;Object(r["b"])(h).mount("#app")},6600:function(e,t,n){"use strict";n("6dd4")},"6dd4":function(e,t,n){}});
//# sourceMappingURL=app.4d8e66ef.js.map